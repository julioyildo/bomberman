"use strict";function bomb(e,a,t,s,l){this.positionX=e,this.positionY=a,this.bomb_power=s,this.bomb_timer=l,this.bomb_pusher=!1,this.putBomb=function(){var e=this;this.bomb_PosX=this.positionX,this.bomb_PosY=this.positionY,this.bomb=document.createElement("div"),this.bomb.style.top=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetTop+"px",this.bomb.style.left=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetLeft+"px",this.bomb.classList.add("bomb"),this.bomb.classList.add("bomb3"),document.querySelector(".table").appendChild(this.bomb),bombs.push([this.bomb,this.bomb_PosX,this.bomb_PosY,this.bomb_timer,this.bomb_power,!1,!1,!1,!1,!1,!1,!1,!1]),e.explodeBomb(bombs.length-1)},this.explodeBomb=function(e){var a=setInterval(function(){if(2==--bombs[e][3])bombs[e][0].classList.remove("bomb3"),bombs[e][0].classList.add("bomb2");else if(1==bombs[e][3])bombs[e][0].classList.remove("bomb2"),bombs[e][0].classList.add("bomb1");else if(0==bombs[e][3]){bombs[e][0].classList.remove("bomb1"),bombs[e][0].classList.add("bomb0");for(var t=0;t<bombs[e][4];t++)!function(a){bombs[e][1]+a<create_map.general_table_game.length&&!bombs[e][5]&&!bombs[e][9]&&(a>0&&create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].element.classList.add("verticalexp"),create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].breakable?(create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].breakable=null,create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].element.classList.remove("breakable"),create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].item&&create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].element.classList.add(create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].value_item),bombs[e][5]=!0):bombs[e][1]+a<create_map.general_table_game.length&&0==create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].breakable&&(bombs[e][9]=!0)),bombs[e][1]-a>=0&&!bombs[e][6]&&!bombs[e][10]&&(a>0&&create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].element.classList.add("verticalexp"),create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].breakable?(create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].breakable=null,create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].element.classList.remove("breakable"),create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].item&&create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].element.classList.add(create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].value_item),bombs[e][6]=!0):bombs[e][1]-a>=0&&0==create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].breakable&&(bombs[e][10]=!0)),bombs[e][2]+a<create_map.general_table_game.length&&!bombs[e][7]&&!bombs[e][11]&&(a>0&&create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].element.classList.add("horizontalexp"),create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].breakable?(create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].breakable=null,create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].element.classList.remove("breakable"),create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].item&&create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].element.classList.add(create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].value_item),bombs[e][7]=!0):bombs[e][2]+a<create_map.general_table_game.length&&0==create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].breakable&&(bombs[e][11]=!0)),bombs[e][2]-a>=0&&!bombs[e][8]&&!bombs[e][12]&&(a>0&&create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].element.classList.add("horizontalexp"),create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].breakable?(create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].breakable=null,create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].element.classList.remove("breakable"),create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].item&&create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].element.classList.add(create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].value_item),bombs[e][8]=!0):bombs[e][2]-a>=0&&0==create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].breakable&&(bombs[e][12]=!0)),bombs[e][1]+a!=set_player.playerPosX||bombs[e][2]!=set_player.playerPosY||bombs[e][5]||bombs[e][9]||(window.alert("You lost !"),location.reload()),bombs[e][1]-a!=set_player.playerPosX||bombs[e][2]!=set_player.playerPosY||bombs[e][6]||bombs[e][10]||(window.alert("You lost !"),location.reload()),bombs[e][1]!=set_player.playerPosX||bombs[e][2]+a!=set_player.playerPosY||bombs[e][7]||bombs[e][11]||(window.alert("You lost !"),location.reload()),bombs[e][1]!=set_player.playerPosX||bombs[e][2]-a!=set_player.playerPosY||bombs[e][8]||bombs[e][12]||(window.alert("You lost !"),location.reload()),bombs[e][1]+a!=set_player.botPosX||bombs[e][2]!=set_player.botPosY||bombs[e][5]||bombs[e][9]||(window.alert("You win !"),location.reload()),bombs[e][1]-a!=set_player.botPosX||bombs[e][2]!=set_player.botPosY||bombs[e][6]||bombs[e][10]||(window.alert("You win !"),location.reload()),bombs[e][1]!=set_player.botPosX||bombs[e][2]+a!=set_player.botPosY||bombs[e][7]||bombs[e][11]||(window.alert("You win !"),location.reload()),bombs[e][1]!=set_player.botPosX||bombs[e][2]-a!=set_player.botPosY||bombs[e][8]||bombs[e][12]||(window.alert("You win !"),location.reload()),setTimeout(function(){bombs[e][1]+a<create_map.general_table_game.length&&create_map.general_table_game[bombs[e][1]+a][bombs[e][2]].element.classList.remove("verticalexp"),bombs[e][1]-a>=0&&create_map.general_table_game[bombs[e][1]-a][bombs[e][2]].element.classList.remove("verticalexp"),bombs[e][2]+a<create_map.general_table_game.length&&create_map.general_table_game[bombs[e][1]][bombs[e][2]+a].element.classList.remove("horizontalexp"),bombs[e][2]-a>=0&&create_map.general_table_game[bombs[e][1]][bombs[e][2]-a].element.classList.remove("horizontalexp")},300)}(t);setTimeout(function(){bombs[e][0].remove(),bombs[e]=[]},300),clearInterval(a)}},l/3*1e3)}}var map=function(e,a,t,s,l,o){this.container=document.querySelector(".bomberman-map"),this.table_size=e,this.breakable_bumber=a,this.items=t,this.bombe_plus_one=s,this.bombe_area_bonus=l,this.push_bombs=o,this.general_table_game=[],this.is_empty=[],this.is_breakable=[],this.is_item=[],this.create_map=function(){var e=document.createElement("div");e.className="table";for(var a=0;a<this.table_size;a++){this.general_table_game.push([]);var t=document.createElement("div");t.className="row";for(var s=0;s<this.table_size;s++){var l=document.createElement("div");l.className="cell",t.appendChild(l),this.general_table_game[a].push({x:a,y:s,element:l,breakable:null,item:null,value_item:null})}e.appendChild(t)}this.container.appendChild(e)},console.log(this.general_table_game),this.unbreakable=function(){for(var e=1;e<this.general_table_game.length-1;e+=2)for(var a=1;a<this.general_table_game[e].length-1;a+=2)this.general_table_game[e][a].breakable=!1,this.general_table_game[e][a].element.classList.add("unbreakable")},this.isEmpty=function(){for(var e=0;e<this.general_table_game.length;e++)for(var a=0;a<this.general_table_game[e].length;a++)null==this.general_table_game[e][a].breakable&&this.is_empty.push(this.general_table_game[e][a])},this.breakable=function(){for(var e=0;e<this.breakable_bumber;e++){var a=this.is_empty.slice(3,this.is_empty.length-3),t=Math.floor(Math.random()*a.length);a[t].breakable=!0,a[t].element.classList.add("breakable"),this.is_breakable.push(a[t])}},this.element=function(){for(var e=0;e<this.items;e++){var a=Math.floor(Math.random()*this.is_breakable.length);this.is_breakable[a].item?e--:(this.is_breakable[a].item=!0,this.is_breakable[a].element.classList.add("item"),this.is_item.push(this.is_breakable[a]))}},console.log(this.is_item),this.element_value=function(){this.value_items=["more_bombs","bomb_area_bonus","push_bombs"];for(var e=0;e<this.is_item.length;e++){var a=Math.floor(Math.random()*this.value_items.length);"more_bombs"===this.value_items[a]&&this.bombe_plus_one>0?(this.is_item[e].value_item=this.value_items[a],this.bombe_plus_one--):"bomb_area_bonus"===this.value_items[a]&&this.bombe_area_bonus>0?(this.is_item[e].value_item=this.value_items[a],this.bombe_area_bonus--):"push_bombs"===this.value_items[a]&&this.push_bombs>0?(this.is_item[e].value_item=this.value_items[a],this.push_bombs--):e--}}},create_map=new map(11,200,20,8,10,2);create_map.create_map(),create_map.unbreakable(),create_map.isEmpty(),create_map.breakable(),create_map.element(),create_map.element_value();var player=function(e,a,t){this.player_number=e,this.player_bomb_number=a,this.player_bomb_power=t,this.player_bomb_pusher=!1,this.players_positions=[{x:0,y:0},{x:create_map.general_table_game.length-1,y:create_map.general_table_game.length-1},{x:0,y:create_map.general_table_game.length-1},{x:create_map.general_table_game.length-1,y:0}],this.createPlayer=function(){for(var e=0;e<this.player_number;e++)this.player_element=document.createElement("div"),document.querySelector(".table").appendChild(this.player_element),this.player_element.style.top=create_map.general_table_game[this.players_positions[e].x][this.players_positions[e].y].element.offsetTop+"px",this.player_element.style.left=create_map.general_table_game[this.players_positions[e].x][this.players_positions[e].y].element.offsetLeft+"px",0==e?(this.player_element.classList.add("player"),this.player_element.classList.add("down"),this.real_player=this.player_element,this.playerPosX=this.players_positions[0].x,this.playerPosY=this.players_positions[0].y):(this.player_element.classList.add("bot"),this.player_element.classList.add("bot"),this.bot_player=this.player_element,this.botPosX=this.players_positions[e].x,this.botPosY=this.players_positions[e].y)},this.movePlayer=function(){var e=this;window.addEventListener("keydown",function(a){if(a.preventDefault(),37==a.keyCode){if(e.playerPosY-1>=0&&null==create_map.general_table_game[e.playerPosX][e.playerPosY-1].breakable){if(bombs.length>0)for(var t=0;t<bombs.length;t++)if(e.playerPosY-1==bombs[t][2]&&e.playerPosX==bombs[t][1]){if(this.bomb_pusher){for(var s=0;s<create_map.general_table_game.length-(create_map.general_table_game.length-bombs[t][2]+1)&&null==create_map.general_table_game[bombs[t][1]][bombs[t][2]-s].breakable;)s++;bombs[t][2]=bombs[t][2]-s-1,bombs[t][0].style.left=create_map.general_table_game[bombs[t][1]][bombs[t][2]].element.offsetLeft+"px"}e.playerPosY+=1}e.real_player.className="player",e.real_player.classList.add("left"),setTimeout(function(){e.real_player.classList.add("left1")},25),setTimeout(function(){e.real_player.classList.remove("left1"),e.real_player.classList.add("left2")},50),setTimeout(function(){e.real_player.classList.remove("left2"),e.real_player.classList.add("left3")},75),setTimeout(function(){e.real_player.classList.remove("left3")},100),e.playerPosY-=1}}else if(38==a.keyCode){if(e.playerPosX-1>=0&&null==create_map.general_table_game[e.playerPosX-1][e.playerPosY].breakable){if(bombs.length>0)for(var l=0;l<bombs.length;l++)if(e.playerPosY==bombs[l][2]&&e.playerPosX-1==bombs[l][1]){if(this.bomb_pusher){for(var o=0;o<create_map.general_table_game.length-(create_map.general_table_game.length-bombs[l][1]+1)&&null==create_map.general_table_game[bombs[l][1]-o][bombs[l][2]].breakable;)o++;bombs[l][1]=bombs[l][1]-o-1,bombs[l][0].style.top=create_map.general_table_game[bombs[l][1]][bombs[l][2]].element.offsetTop+"px"}e.playerPosX+=1}e.real_player.className="player",e.real_player.classList.add("up"),setTimeout(function(){e.real_player.classList.add("up1")},25),setTimeout(function(){e.real_player.classList.remove("up1"),e.real_player.classList.add("up2")},50),setTimeout(function(){e.real_player.classList.remove("up2"),e.real_player.classList.add("up3")},75),setTimeout(function(){e.real_player.classList.remove("up3")},100),e.playerPosX-=1}}else if(39==a.keyCode){if(e.playerPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX][e.playerPosY+1].breakable){if(bombs.length>0)for(var b=0;b<bombs.length;b++)if(e.playerPosY+1==bombs[b][2]&&e.playerPosX==bombs[b][1]){if(this.bomb_pusher){for(var r=0;null==create_map.general_table_game[bombs[b][1]][bombs[b][2]+r].breakable&&r<create_map.general_table_game.length-bombs[b][2]-1;)r++;bombs[b][2]=bombs[b][2]+r-1,bombs[b][0].style.left=create_map.general_table_game[bombs[b][1]][bombs[b][2]].element.offsetLeft+"px"}e.playerPosY-=1}e.real_player.className="player",e.real_player.classList.add("right"),setTimeout(function(){e.real_player.classList.add("right1")},25),setTimeout(function(){e.real_player.classList.remove("right1"),e.real_player.classList.add("right2")},50),setTimeout(function(){e.real_player.classList.remove("right2"),e.real_player.classList.add("right3")},75),setTimeout(function(){e.real_player.classList.remove("right3")},100),e.playerPosY+=1}}else if(40==a.keyCode&&e.playerPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX+1][e.playerPosY].breakable){if(bombs.length>0)for(var _=0;_<bombs.length;_++)if(e.playerPosY==bombs[_][2]&&e.playerPosX+1==bombs[_][1]){if(this.bomb_pusher){for(var m=0;null==create_map.general_table_game[bombs[_][1]+m][bombs[_][2]].breakable&&m<create_map.general_table_game.length-bombs[_][1]-1;)m++;bombs[_][1]=bombs[_][1]+m-1,bombs[_][0].style.top=create_map.general_table_game[bombs[_][1]][bombs[_][2]].element.offsetTop+"px"}e.playerPosX-=1}e.real_player.className="player",e.real_player.classList.add("down"),setTimeout(function(){e.real_player.classList.add("down1")},25),setTimeout(function(){e.real_player.classList.remove("down1"),e.real_player.classList.add("down2")},50),setTimeout(function(){e.real_player.classList.remove("down2"),e.real_player.classList.add("down3")},75),setTimeout(function(){e.real_player.classList.remove("down3")},100),e.playerPosX+=1}e.real_player.style.top=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetTop+"px",e.real_player.style.left=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetLeft+"px"})},this.dropBomb=function(){new bomb(set_player.playerPosX,set_player.playerPosY,set_player.player_bomb_number,set_player.player_bomb_power,3).putBomb()}},set_player=new player(2,1,2);set_player.createPlayer(),set_player.movePlayer(),window.addEventListener("keydown",function(e){console.log(set_player.player_bomb_number),e.preventDefault,32==e.keyCode&&set_player.player_bomb_number>0&&(set_player.player_bomb_number--,set_player.dropBomb(),setTimeout(function(){set_player.player_bomb_number++},3300))});var bombs=[],bot=function(e,a){this.bot_bomb_number=e,this.bot_bomb_range=a,this.safe=!0,this.cellsToMove=[],this.path=[],this.visitedLeft=!1,this.visitedUp=!1,this.visitedRight=!1,this.visitedDown=!1,this.path.push([set_player.botPosX,set_player.botPosY]),this.random=function(e){return Math.floor(Math.random()*e)},this.testAroundCells=function(){if(set_player.botPosY-1>=0&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY-1].breakable){for(var e=0;e<this.path.length;e++)set_player.botPosY-1==this.path[e][1]&&set_player.botPosX==this.path[e][0]&&(this.visitedLeft=!0);this.visitedLeft||this.cellsToMove.push("left")}if(set_player.botPosX-1>=0&&null==create_map.general_table_game[set_player.botPosX-1][set_player.botPosY].breakable){for(var a=0;a<this.path.length;a++)set_player.botPosY==this.path[a][1]&&set_player.botPosX-1==this.path[a][0]&&(this.visitedUp=!0);this.visitedUp||this.cellsToMove.push("up")}if(set_player.botPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY+1].breakable){for(var t=0;t<this.path.length;t++)set_player.botPosY+1==this.path[t][1]&&set_player.botPosX==this.path[t][0]&&(this.visitedRight=!0);this.visitedRight||this.cellsToMove.push("right")}if(set_player.botPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX+1][set_player.botPosY].breakable){for(var s=0;s<this.path.length;s++)set_player.botPosY==this.path[s][1]&&set_player.botPosX+1==this.path[s][0]&&(this.visitedDown=!0);this.visitedDown||this.cellsToMove.push("down")}this.moveToCell(this.cellsToMove)},this.dodgeBombs=function(){if(bombs.length>0){this.path=[],this.path.push([set_player.botPosX,set_player.botPosY]);for(var e=0;e<bombs.length;e++)for(var a=0;a<bombs[e][4];a++)bombs[e][1]-a==set_player.botPosX&&bombs[e][2]==set_player.botPosY&&(this.safe=!1,set_player.botPosY-1>=0&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY-1].breakable&&this.cellsToMove.push("left"),set_player.botPosX-1>=0&&null==create_map.general_table_game[set_player.botPosX-1][set_player.botPosY].breakable&&this.cellsToMove.push("up"),set_player.botPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY+1].breakable&&this.cellsToMove.push("right"),set_player.botPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX+1][set_player.botPosY].breakable&&this.cellsToMove.push("down")),bombs[e][1]+a==set_player.botPosX&&bombs[e][2]==set_player.botPosY&&(this.safe=!1,set_player.botPosY-1>=0&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY-1].breakable&&this.cellsToMove.push("left"),set_player.botPosX-1>=0&&null==create_map.general_table_game[set_player.botPosX-1][set_player.botPosY].breakable&&this.cellsToMove.push("up"),set_player.botPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY+1].breakable&&this.cellsToMove.push("right"),set_player.botPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX+1][set_player.botPosY].breakable&&this.cellsToMove.push("down")),bombs[e][1]==set_player.botPosX&&bombs[e][2]-a==set_player.botPosY&&(this.safe=!1,set_player.botPosY-1>=0&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY-1].breakable&&this.cellsToMove.push("left"),set_player.botPosX-1>=0&&null==create_map.general_table_game[set_player.botPosX-1][set_player.botPosY].breakable&&this.cellsToMove.push("up"),set_player.botPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY+1].breakable&&this.cellsToMove.push("right"),set_player.botPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX+1][set_player.botPosY].breakable&&this.cellsToMove.push("down")),bombs[e][1]==set_player.botPosX&&bombs[e][2]+a==set_player.botPosY&&(this.safe=!1,set_player.botPosY-1>=0&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY-1].breakable&&this.cellsToMove.push("left"),set_player.botPosX-1>=0&&null==create_map.general_table_game[set_player.botPosX-1][set_player.botPosY].breakable&&this.cellsToMove.push("up"),set_player.botPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX][set_player.botPosY+1].breakable&&this.cellsToMove.push("right"),set_player.botPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[set_player.botPosX+1][set_player.botPosY].breakable&&this.cellsToMove.push("down"))}this.moveToCell(this.cellsToMove)},this.moveToCell=function(e){var a=e[this.random(e.length)];if(e.length>0)"left"==a?(set_player.bot_player.className="bot",set_player.bot_player.classList.add("left"),setTimeout(function(){set_player.bot_player.classList.add("left1")},25),setTimeout(function(){set_player.bot_player.classList.remove("left1"),set_player.bot_player.classList.add("left2")},50),setTimeout(function(){set_player.bot_player.classList.remove("left2"),set_player.bot_player.classList.add("left3")},75),setTimeout(function(){set_player.bot_player.classList.remove("left3")},100),set_player.botPosY-=1):"right"==a?(set_player.bot_player.className="bot",set_player.bot_player.classList.add("right"),setTimeout(function(){set_player.bot_player.classList.add("right1")},25),setTimeout(function(){set_player.bot_player.classList.remove("right1"),set_player.bot_player.classList.add("right2")},50),setTimeout(function(){set_player.bot_player.classList.remove("right2"),set_player.bot_player.classList.add("right3")},75),setTimeout(function(){set_player.bot_player.classList.remove("right3")},100),set_player.botPosY+=1):"down"==a?(set_player.bot_player.className="bot",set_player.bot_player.classList.add("down"),setTimeout(function(){set_player.bot_player.classList.add("down1")},25),setTimeout(function(){set_player.bot_player.classList.remove("down1"),set_player.bot_player.classList.add("down2")},50),setTimeout(function(){set_player.bot_player.classList.remove("down2"),set_player.bot_player.classList.add("down3")},75),setTimeout(function(){set_player.bot_player.classList.remove("down3")},100),set_player.botPosX+=1):"up"==a&&(set_player.bot_player.className="bot",set_player.bot_player.classList.add("up"),setTimeout(function(){set_player.bot_player.classList.add("up1")},25),setTimeout(function(){set_player.bot_player.classList.remove("up1"),set_player.bot_player.classList.add("up2")},50),setTimeout(function(){set_player.bot_player.classList.remove("up2"),set_player.bot_player.classList.add("up3")},75),setTimeout(function(){set_player.bot_player.classList.remove("up3")},100),set_player.botPosX-=1),set_player.bot_player.style.top=create_map.general_table_game[set_player.botPosX][set_player.botPosY].element.offsetTop+"px",set_player.bot_player.style.left=create_map.general_table_game[set_player.botPosX][set_player.botPosY].element.offsetLeft+"px",this.cellsToMove=[],this.path.push([set_player.botPosX,set_player.botPosY]),this.visitedLeft=!1,this.visitedUp=!1,this.visitedRight=!1,this.visitedDown=!1;else{var t=new bomb(set_player.botPosX,set_player.botPosY,this.bot_bomb_number,this.bot_bomb_range,3);this.bot_bomb_number&&(this.bot_bomb_number--,t.putBomb()),this.safe=!1,this.dodgeBombs();var s=this;setTimeout(function(){s.bot_bomb_number++,s.safe=!0},3300)}}},set_bot=new bot(1,2);setInterval(function(){console.log(set_bot.safe),set_bot.safe?set_bot.testAroundCells():set_bot.safe||set_bot.dodgeBombs()},500);var items=function(){this.itemsActivation=function(){window.addEventListener("keydown",function(e){create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].item&&("bomb_area_bonus"==create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].value_item?set_player.player_bomb_power++:"push_bombs"==create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].value_item?set_player.player_bomb_pusher=!0:"more_bombs"==create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].value_item&&set_player.player_bomb_number++,create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].item=!1,create_map.general_table_game[set_player.playerPosX][set_player.playerPosY].element.className="cell")}),setInterval(function(){create_map.general_table_game[set_player.botPosX][set_player.botPosY].item&&("bomb_area_bonus"==create_map.general_table_game[set_player.botPosX][set_player.botPosY].value_item?set_bot.bot_bomb_power++:"push_bombs"==create_map.general_table_game[set_player.botPosX][set_player.botPosY].value_item?set_bot.bot_bomb_pusher=!0:"more_bombs"==create_map.general_table_game[set_player.botPosX][set_player.botPosY].value_item&&set_bot.bot_bomb_number++,create_map.general_table_game[set_player.botPosX][set_player.botPosY].item=!1,create_map.general_table_game[set_player.botPosX][set_player.botPosY].element.className="cell")},50)}},set_items=new items;set_items.itemsActivation();