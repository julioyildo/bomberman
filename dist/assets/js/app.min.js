<<<<<<< HEAD
"use strict";var map=function(e,a,t,s,l,b,o){this.container=document.querySelector(".bomberman-map"),this.table_size=e,this.breakable_bumber=a,this.items=t,this.bombe_plus_one=s,this.walk_fast=l,this.bombe_area_bonus=b,this.push_bombs=o,this.general_table_game=[],this.is_empty=[],this.is_breakable=[],this.is_item=[],this.create_map=function(){var e=document.createElement("div");e.className="table";for(var a=0;a<this.table_size;a++){this.general_table_game.push([]);var t=document.createElement("div");t.className="row";for(var s=0;s<this.table_size;s++){var l=document.createElement("div");l.className="cell",t.appendChild(l),this.general_table_game[a].push({x:a,y:s,element:l,breakable:null,item:null,value_item:null})}e.appendChild(t)}this.container.appendChild(e)},this.unbreakable=function(){for(var e=1;e<this.general_table_game.length-1;e+=2)for(var a=1;a<this.general_table_game[e].length-1;a+=2)this.general_table_game[e][a].breakable=!1,this.general_table_game[e][a].element.classList.add("unbreakable")},this.isEmpty=function(){for(var e=0;e<this.general_table_game.length;e++)for(var a=0;a<this.general_table_game[e].length;a++)null==this.general_table_game[e][a].breakable&&this.is_empty.push(this.general_table_game[e][a])},this.breakable=function(){for(var e=0;e<this.breakable_bumber;e++){var a=this.is_empty.slice(3,this.is_empty.length-3),t=Math.floor(Math.random()*a.length);a[t].breakable=!0,a[t].element.classList.add("breakable"),this.is_breakable.push(a[t])}},this.element=function(){for(var e=0;e<this.items;e++){var a=Math.floor(Math.random()*this.is_breakable.length);this.is_breakable[a].item?e--:(this.is_breakable[a].item=!0,this.is_breakable[a].element.classList.add("item"),this.is_item.push(this.is_breakable[a]))}},console.log(this.is_item),this.element_value=function(){this.value_items=["bombe_plus_one","walk_fast","bombe_area_bonus","push_bombs"];for(var e=0;e<this.is_item.length;e++){var a=Math.floor(Math.random()*this.value_items.length);"bombe_plus_one"===this.value_items[a]&&this.bombe_plus_one>0?(this.is_item[e].value_item=this.value_items[a],this.is_item[e].element.classList.add("bombe_plus_one"),this.bombe_plus_one--):"walk_fast"===this.value_items[a]&&this.walk_fast>0?(this.is_item[e].value_item=this.value_items[a],this.is_item[e].element.classList.add("walk_fast"),this.walk_fast--):"bombe_area_bonus"===this.value_items[a]&&this.bombe_area_bonus>0?(this.is_item[e].value_item=this.value_items[a],this.is_item[e].element.classList.add("bombe_area_bonus"),this.bombe_area_bonus--):"push_bombs"===this.value_items[a]&&this.push_bombs>0?(this.is_item[e].value_item=this.value_items[a],this.push_bombs--):e--}console.log(this.bombe_area_bonus),console.log(this.bombe_plus_one),console.log(this.walk_fast),console.log(this.push_bombs)}},create_map=new map(11,200,40,10,10,10,10);create_map.create_map(),create_map.unbreakable(),create_map.isEmpty(),create_map.breakable(),create_map.element(),create_map.element_value();var player=function(e,a,t,s){this.playerPosX=e,this.playerPosY=a,this.player_number=t,this.bomb_power=s,this.createPlayer=function(){for(var e=0;e<this.player_number;e++)this.player_element=document.createElement("div"),this.player_element.classList.add("player"),document.querySelector(".table").appendChild(this.player_element),this.player_element.style.top=create_map.general_table_game[this.playerPosX][this.playerPosY].element.offsetTop+"px",this.player_element.style.left=create_map.general_table_game[this.playerPosX][this.playerPosY].element.offsetLeft+"px"},this.movePlayer=function(){var e=this;window.addEventListener("keydown",function(a){a.preventDefault(),37==a.keyCode?e.playerPosY-1>=0&&null==create_map.general_table_game[e.playerPosX][e.playerPosY-1].breakable&&(e.playerPosY-=1):38==a.keyCode?e.playerPosX-1>=0&&null==create_map.general_table_game[e.playerPosX-1][e.playerPosY].breakable&&(e.playerPosX-=1):39==a.keyCode?e.playerPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX][e.playerPosY+1].breakable&&(e.playerPosY+=1):40==a.keyCode&&e.playerPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX+1][e.playerPosY].breakable&&(e.playerPosX+=1),e.player_element.style.top=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetTop+"px",e.player_element.style.left=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetLeft+"px"})},this.putBomb=function(){var e=this;e.bombUsed=!1,window.addEventListener("keydown",function(a){a.preventDefault,32!=a.keyCode||e.bombUsed||(this.bomb_PosX=e.playerPosX,this.bomb_PosY=e.playerPosY,this.bomb=document.createElement("div"),this.bomb.style.top=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetTop+"px",this.bomb.style.left=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetLeft+"px",this.bomb.classList.add("bomb"),document.querySelector(".table").appendChild(this.bomb),e.bombUsed=!0,setTimeout(function(){for(var a=0;a<e.bomb_power;a++)this.bomb_PosX+a<create_map.general_table_game.length&&create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].breakable&&(create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].breakable=null,create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].element.classList.remove("breakable"),console.log("casser en bas")),this.bomb_PosX-a>=0&&create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].breakable&&(create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].breakable=null,create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].element.classList.remove("breakable"),console.log("casser en haut")),this.bomb_PosY+a<create_map.general_table_game.length&&create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].breakable&&(create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].breakable=null,create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].element.classList.remove("breakable"),console.log("casser à droite")),this.bomb_PosY-a>=0&&create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].breakable&&(create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].breakable=null,create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].element.classList.remove("breakable"),console.log("casser à gauche"));e.bombUsed=!1,this.bomb.remove()},3e3))})}},set_player=new player(0,0,1,2);set_player.createPlayer(),set_player.movePlayer(),set_player.putBomb();
=======
"use strict";var map=function(e,a,t){this.container=document.querySelector(".bomberman-map"),this.table_size=e,this.breakable_bumber=a,this.items=t,this.general_table_game=[],this.is_empty=[],this.is_breakable=[],this.create_map=function(){var e=document.createElement("div");e.className="table";for(var a=0;a<this.table_size;a++){this.general_table_game.push([]);var t=document.createElement("div");t.className="row";for(var s=0;s<this.table_size;s++){var l=document.createElement("div");l.className="cell",t.appendChild(l),this.general_table_game[a].push({x:a,y:s,breakable:null,element:l,item:null})}e.appendChild(t)}this.container.appendChild(e)},console.log(this.general_table_game),this.unbreakable=function(){for(var e=1;e<this.general_table_game.length-1;e+=2)for(var a=1;a<this.general_table_game[e].length-1;a+=2)this.general_table_game[e][a].breakable=!1,this.general_table_game[e][a].element.classList.add("unbreakable")},this.isEmpty=function(){for(var e=0;e<this.general_table_game.length;e++)for(var a=0;a<this.general_table_game[e].length;a++)null==this.general_table_game[e][a].breakable&&this.is_empty.push(this.general_table_game[e][a])},this.breakable=function(){for(var e=0;e<this.breakable_bumber;e++){var a=this.is_empty.slice(3,this.is_empty.length-3),t=Math.floor(Math.random()*a.length);a[t].breakable=!0,a[t].element.classList.add("breakable"),this.is_breakable.push(a[t])}},this.element=function(){for(var e=0;e<this.items;e++){var a=Math.floor(Math.random()*this.is_breakable.length);this.is_breakable[a].item=!0,this.is_breakable[a].element.classList.add("item")}}},create_map=new map(11,200,30);create_map.create_map(),create_map.unbreakable(),create_map.isEmpty(),create_map.breakable(),create_map.element();var player=function(e,a,t,s){this.playerPosX=e,this.playerPosY=a,this.player_number=t,this.bomb_power=s,this.bombs=[],this.createPlayer=function(){for(var e=0;e<this.player_number;e++)this.player_element=document.createElement("div"),this.player_element.classList.add("player"),document.querySelector(".table").appendChild(this.player_element),this.player_element.style.top=create_map.general_table_game[this.playerPosX][this.playerPosY].element.offsetTop+"px",this.player_element.style.left=create_map.general_table_game[this.playerPosX][this.playerPosY].element.offsetLeft+"px"},this.movePlayer=function(){var e=this;window.addEventListener("keydown",function(a){if(a.preventDefault(),37==a.keyCode){if(e.playerPosY-1>=0&&null==create_map.general_table_game[e.playerPosX][e.playerPosY-1].breakable){if(e.bombs.length>0)for(var t=0;t<e.bombs.length;t++)e.playerPosY-1==e.bombs[t][1]&&e.playerPosX==e.bombs[t][0]&&(e.playerPosY+=1);e.playerPosY-=1}}else if(38==a.keyCode){if(e.playerPosX-1>=0&&null==create_map.general_table_game[e.playerPosX-1][e.playerPosY].breakable){if(e.bombs.length>0)for(var s=0;s<e.bombs.length;s++)e.playerPosY==e.bombs[s][1]&&e.playerPosX-1==e.bombs[s][0]&&(e.playerPosX+=1);e.playerPosX-=1}}else if(39==a.keyCode){if(e.playerPosY+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX][e.playerPosY+1].breakable){if(e.bombs.length>0)for(var l=0;l<e.bombs.length;l++)e.playerPosY+1==e.bombs[l][1]&&e.playerPosX==e.bombs[l][0]&&(e.playerPosY-=1);e.playerPosY+=1}}else if(40==a.keyCode&&e.playerPosX+1<create_map.general_table_game.length&&null==create_map.general_table_game[e.playerPosX+1][e.playerPosY].breakable){if(e.bombs.length>0)for(var o=0;o<e.bombs.length;o++)e.playerPosY==e.bombs[o][1]&&e.playerPosX+1==e.bombs[o][0]&&(e.playerPosX-=1);e.playerPosX+=1}e.player_element.style.top=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetTop+"px",e.player_element.style.left=create_map.general_table_game[e.playerPosX][e.playerPosY].element.offsetLeft+"px"})},this.putBomb=function(){var e=this;e.bombUsed=!1,window.addEventListener("keydown",function(a){a.preventDefault,32!=a.keyCode||e.bombUsed||(this.bomb_PosX=e.playerPosX,this.bomb_PosY=e.playerPosY,e.bombs.push([this.bomb_PosX,this.bomb_PosY]),this.bomb=document.createElement("div"),this.bomb.style.top=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetTop+"px",this.bomb.style.left=create_map.general_table_game[this.bomb_PosX][this.bomb_PosY].element.offsetLeft+"px",this.bomb.classList.add("bomb"),document.querySelector(".table").appendChild(this.bomb),e.bombUsed=!0,setTimeout(function(){for(var a=0;a<e.bomb_power;a++)(this.bomb_PosX+a==e.playerPosX&&this.bomb_PosY==e.playerPosY||this.bomb_PosX-a==e.playerPosX&&this.bomb_PosY==e.playerPosY||this.bomb_PosX==e.playerPosX&&this.bomb_PosY+a==e.playerPosY||this.bomb_PosX==e.playerPosX&&this.bomb_PosY-a==e.playerPosY)&&(window.alert("You lost !"),location.reload()),this.bomb_PosX+a<create_map.general_table_game.length&&create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].breakable&&(create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].breakable=null,create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].element.classList.remove("breakable"),console.log("casser en bas"),create_map.general_table_game[this.bomb_PosX+a][this.bomb_PosY].element.style.backgroundColor="green"),this.bomb_PosX-a>=0&&create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].breakable&&(create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].breakable=null,create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].element.classList.remove("breakable"),console.log("casser en haut"),create_map.general_table_game[this.bomb_PosX-a][this.bomb_PosY].element.style.backgroundColor="green"),this.bomb_PosY+a<create_map.general_table_game.length&&create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].breakable&&(create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].breakable=null,create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].element.classList.remove("breakable"),console.log("casser à droite"),create_map.general_table_game[this.bomb_PosX][this.bomb_PosY+a].element.style.backgroundColor="green"),this.bomb_PosY-a>=0&&create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].breakable&&(create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].breakable=null,create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].element.classList.remove("breakable"),console.log("casser à gauche"),create_map.general_table_game[this.bomb_PosX][this.bomb_PosY-a].element.style.backgroundColor="green");e.bombUsed=!1,this.bomb.remove(),e.bombs=[]},3e3))})}},set_player=new player(0,0,1,2);set_player.createPlayer(),set_player.movePlayer(),set_player.putBomb();
>>>>>>> e5fe893ccbb5905a8a6e99538cfeb5d3905e8840
